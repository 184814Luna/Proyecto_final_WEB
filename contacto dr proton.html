<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dr. Proton</title>

    <meta name="descripcion" content="Dr. Protón/pagina web">
    <meta name="keywords" content="HTML,CSS,JS">
    <meta name="autor" content="Rodrigo Mendez Gaitan & Diego Luna Saucedo">
    <meta name="copyrigth" content= "&copy; Rodrigo Mendez Gaitan & Diego Luna Saucedo">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
    <script>
        (function(){
            emailjs.init("jWqwwwAvSGkrnUJfz");
        })();
    </script>
</head>

<link rel="stylesheet" type="text/css" href="style.css">

<body>
<script type="text/javascript">
    var vsid = "si272100f0c7106";
    (function() { 
    var vsjs = document.createElement('script'); vsjs.type = 'text/javascript'; vsjs.async = true; vsjs.setAttribute('defer', 'defer');
     vsjs.src = 'https://www.virtualspirits.com/vsa/chat.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(vsjs, s);
    })();
   </script>
    <header>
        <div class="container">
            <nav class="nav">
                <div class="menu-toggle">
                    <i class="fas fa-bars"></i>
                    <i class="fas fa-times"></i>
                </div>
                <a href="#" class="logo">DR. PROTÓN</a>
                 <ul class="nav-list">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link active">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a href="materia y energia.html" class="nav-link ">Materia y energía</a>
                    </li>
                    <li class="nav-item">
                        <a href="estructura atomica 2.html" class="nav-link ">Estructura Atómica</a>
                    </li>
                    <li class="nav-item">
                        <a href="Tabla periodica.html" class="nav-link ">Tabla Peridica</a>
                    </li>
                  <li class="nav-item">
                    <a href="contacto dr proton.html" class="nav-link ">Contacto</a>
                </li>
                </ul>
            </nav>
        </div>
    </header>


    <section class="herh" id="herh">
        <div class="container">
            <h1 class="headh">Clases Avanzadas</h1>
            <div class="he-des">
                <h2 class="headr">Contacto</h2>
            </div>
        </div>
    </section>


    <div class="global">

        <h1 class="hea">Universidad Politecnica de San Luis Potosi<br>
            Carrera: Ingenieria en tecnologias de la informacion
            <br>
            <br>
            <br>
        </h1>
    </div>
    <!-- Formulario de cuestionario -->
    <section class="questionnaire">
        <div class="container">
            <h2 class="h2-sub">Para inscribirse a las clases</h2>
            <form id="questionnaireForm" class="form-centered">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required><br><br>

                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" required><br><br>

                <label for="edad">Edad:</label>
                <input type="number" id="edad" name="edad" required><br><br>

                <label for="horario">En qué horario quieres ir a clases:</label>
                <select id="horario" name="horario" required>
                    <option value="12-1">12-1</option>
                    <option value="1-2">1-2</option>
                    <option value="2-3">2-3</option>
                    <option value="3-4">3-4</option>
                    <option value="4-5">4-5</option>
                    <option value="5-6">5-6</option>
                    <option value="6-7">6-7</option>
                    <option value="7-8">7-8</option>
                </select><br><br>

                <input type="submit" value="Enviar">
            </form>
        </div>
    </section>

    <!-- Iframe para mostrar el PDF -->
    <section class="pdf-display">
        <div class="container">
            <h2 class="h2-sub">Tu PDF Generado</h2>
            <iframe id="pdfIframe" frameborder="0" width="100%" height="500"></iframe>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-content-about">
                    <h4>Redes Sociales</h4>
                    <div class="circle">
                        <i class="fas fa-circle"></i>
                    </div>
                    <p>
                        A continuación, el enlace para nuestras redes sociales:
                        <br>
                        <a href="https://www.instagram.com/diego_luna_2512/">Instagram</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const selectElement = function(element) {
            return document.querySelector(element);
        }

        let menuToggle = selectElement('.menu-toggle');
        let body = selectElement('body');

        menuToggle.addEventListener('click', function() {
            body.classList.toggle('open');
        })

        document.getElementById('questionnaireForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Evitar el envío del formulario por defecto

            // Recoger los datos del formulario
            const nombre = document.getElementById('nombre').value;
            const apellido = document.getElementById('apellido').value;
            const edad = document.getElementById('edad').value;
            const horario = document.getElementById('horario').value;

            // Crear el PDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.setFontSize(18);
            doc.setTextColor('#FF69B4');
            doc.text('Datos del Cuestionario', 20, 20);

            doc.setFontSize(12);
            doc.setTextColor('#000000');
            doc.text(`Nombre: ${nombre}`, 20, 40);
            doc.text(`Apellido: ${apellido}`, 20, 50);
            doc.text(`Edad: ${edad}`, 20, 60);
            doc.text(`Horario: ${horario}`, 20, 70);

            // Convertir el PDF a una URL
            const pdfUrl = doc.output('bloburl');

            // Mostrar el PDF en el iframe
            document.getElementById('pdfIframe').src = pdfUrl;

            // Enviar los datos usando EmailJS
            const formData = {
                nombre: nombre,
                apellido: apellido,
                edad: edad,
                horario: horario
            };

            emailjs.send('pro_final', 'template_avo9zga', formData)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    alert('Datos enviados correctamente');
                }, function(error) {
                    console.error('FAILED...', error);
                    alert('Hubo un error al enviar los datos');
                });
        });
    </script>

</body>
</html>

